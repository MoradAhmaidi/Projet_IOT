{% extends 'base.html' %}
{% block content %}
<div class="container-fluid">
    <div class="row justify-content-center">
        <div class="col-12 col-lg-10 col-xl-8">
            <h2 class="h3 mb-4 page-title">Update Message</h2>
            <div class="my-4">
                <form method="POST" action="{% url 'messageupdate' name=key %}">
                    {% csrf_token %}
                    <hr class="my-4">
                    <div class="row mb-4">
                        <div class="col-md-12">
                            <div class="card shadow">
                                <div class="card-body">
                                    <h5 class="card-title">Editor</h5>
                                    <p>Notez bien que {temps} représente la température, {hum} l'humidité et {dt} la date. Pour que ces variables ne changent pas, vous devez les conserver dans cette forme.</p>
                                    <!-- Create the editor container -->
                                    <div  style="min-height:100px;">
                                        <textarea name="message"  class="form-control" rows="9" required>{{template}}</textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- end section -->
                    <button type="submit" class="btn btn-primary">Save Change</button>
                </form>
            </div> <!-- /.card-body -->
        </div> <!-- /.col-12 -->
    </div> <!-- .row -->
</div> <!-- .container-fluid -->
{% endblock  %}
{% block script %}
    <script>
      var editor = document.getElementById('editor');
      if (editor)
      {
        var toolbarOptions = [
          [
          {
            'font': []
          }],
          [
          {
            'header': [1, 2, 3, 4, 5, 6, false]
          }],
          ['bold', 'italic', 'underline', 'strike'],
          ['blockquote', 'code-block'],
          [
          {
            'header': 1
          },
          {
            'header': 2
          }],
          [
          {
            'list': 'ordered'
          },
          {
            'list': 'bullet'
          }],
          [
          {
            'script': 'sub'
          },
          {
            'script': 'super'
          }],
          [
          {
            'indent': '-1'
          },
          {
            'indent': '+1'
          }], // outdent/indent
          [
          {
            'direction': 'rtl'
          }], // text direction
          [
          {
            'color': []
          },
          {
            'background': []
          }], // dropdown with defaults from theme
          [
          {
            'align': []
          }],
          ['clean'] // remove formatting button
        ];
        var quill = new Quill(editor,
        {
          modules:
          {
            toolbar: toolbarOptions
          },
          theme: 'snow'
        });
      }
    </script>
{% endblock script %}